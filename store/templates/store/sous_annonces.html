{% extends 'base.html' %}
{% load static %}
{% block content %}

<div class="container">
  <h2 class="page-titre">Annonces dans {{ souscategorie.nom }}</h2>

  <div class="annonces-list">
    {% for annonce in annonces %}
      <div class="annonce-card">
        <!-- Image cliquable vers la page de détail -->
        <a href="{% url 'detail_annonce' annonce.id %}" class="annonce-image">
          {% if annonce.photo %}
            <img src="{{ annonce.photo.url }}" alt="{{ annonce.titre }}">
          {% else %}
            <img src="{% static 'images/default.png' %}" alt="Image par défaut">
          {% endif %}
        </a>

        <!-- Contenu à droite -->
        <div class="annonce-content">
          <h3>{{ annonce.titre }}</h3>
          <p class="description">{{ annonce.description|truncatewords:20 }}</p>
          <p class="prix"><strong>{{ annonce.prix }} GNF</strong></p>
        </div>
      </div>

      <!-- Séparateur discret -->
      <hr class="annonce-separateur">
    {% empty %}
      <p>Aucune annonce disponible dans cette sous-catégorie.</p>
    {% endfor %}
  </div>
</div>

{% endblock %}
